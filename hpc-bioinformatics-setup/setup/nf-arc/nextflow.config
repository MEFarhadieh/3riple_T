workDir = System.getenv('NXF_WORK') ?: "${baseDir}/work"

params {
  // default output root if you want one place for all samples
  outdir_root = "${System.getenv('LAB_SCRATCH') ?: baseDir}/results/arc"
}

process {
  errorStrategy = 'retry'
  maxRetries    = 1
  // If your site requires a specific tmp on the node:
  // scratch = true
}

profiles {

  slurm {
    process {
      executor = 'slurm'
      cpus     = 16
      memory   = '64 GB'
      time     = '24h'
      // queue = 'short'                  // uncomment & set if required
      // clusterOptions = '--account=YOUR_ACCOUNT'
    }
    trace  { enabled = true; file = "${baseDir}/trace.txt" }
    report { enabled = true; file = "${baseDir}/report.html" }
  }

  // If you prefer to run in a container, uncomment this:
  // singularity {
  //   singularity.enabled = true
  //   process.container   = 'docker://biocontainers/cellranger-arc:2.0.2--0' // if available
  //   // otherwise keep using your $HOME/tools install
  // }
}
